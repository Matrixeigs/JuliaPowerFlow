# 电磁感应理论完整文档

## 目录
1. [理论基础](#理论基础)
2. [数学推导](#数学推导)
3. [物理定律](#物理定律)
4. [应用实例](#应用实例)
5. [代码使用指南](#代码使用指南)
6. [实验验证](#实验验证)

---

## 理论基础

### 电磁感应现象
电磁感应是指当磁通量发生变化时，闭合回路中产生感应电动势和感应电流的现象。这是电磁学中最重要的现象之一，是现代电力技术的基础。

### 历史发展
- **1831年** - 法拉第发现电磁感应现象
- **1834年** - 楞次总结楞次定律
- **1865年** - 麦克斯韦建立完整的电磁理论

---

## 数学推导

### 1. 法拉第电磁感应定律

#### 积分形式
```
∮ E · dl = -∫∫ (∂B/∂t) · dA
```

#### 微分形式  
```
∇ × E = -∂B/∂t
```

#### 感应电动势
对于N匝线圈：
```
ε = -N × dΦ/dt
```

其中：
- ε：感应电动势 [V]
- N：线圈匝数
- Φ：磁通量 [Wb]
- t：时间 [s]

### 2. 磁通量计算

#### 基本公式
```
Φ = ∫∫ B · dA
```

#### 均匀磁场
```
Φ = B · A · cos(θ)
```

其中：
- B：磁感应强度 [T]
- A：面积 [m²]
- θ：磁场与法线夹角 [rad]

### 3. 自感推导

#### 长直螺线管
```
B = μ × n × I = μ × (N/l) × I
```

#### 磁通量
```
Φ = B × A = μ × (N/l) × I × A
```

#### 磁通量链数
```
Λ = N × Φ = μ × (N²/l) × A × I
```

#### 自感定义
```
L = Λ/I = μ × N² × A / l
```

### 4. 互感推导

#### 定义
两个线圈之间的磁耦合：
```
Φ₁₂ = M × I₂
Φ₂₁ = M × I₁
```

#### 计算公式
```
M = k × √(L₁ × L₂)
```

其中：
- k：耦合系数 (0 ≤ k ≤ 1)
- L₁, L₂：两个线圈的自感

### 5. RL电路分析

#### 微分方程
```
L × (di/dt) + R × i = V
```

#### 解析解
```
i(t) = (V/R) × (1 - e^(-Rt/L))
```

#### 时间常数
```
τ = L/R
```

---

## 物理定律

### 1. 法拉第定律
> "穿过闭合回路的磁通量发生变化时，回路中就会产生感应电动势"

**数学表达：**
```julia
ε = -N × dΦ/dt
```

### 2. 楞次定律  
> "感应电流的方向总是阻碍磁通量的变化"

**物理意义：**
- 体现能量守恒定律
- 感应电流产生的磁场总是阻碍原磁场的变化

### 3. 涡流定律
当导体在变化磁场中时，会产生涡流：
```
P = σ × E² × V
```

其中：
- P：涡流功率损耗 [W]
- σ：电导率 [S/m]
- E：感应电场强度 [V/m]
- V：导体体积 [m³]

---

## 应用实例

### 1. 发电机原理

#### 理论基础
运动导体切割磁感线产生电动势：
```
ε = B × l × v
```

#### 旋转发电机
```julia
# 正弦波发电机
θ(t) = ω × t
ε(t) = B × l × v × sin(ωt)
```

#### 代码示例
```julia
using ElectromagneticInduction

# 发电机参数
B = 1.0      # 磁感应强度 1T
l = 0.5      # 导体长度 0.5m  
ω = 2π * 50  # 角频率 50Hz
v = ω * r    # 线速度

# 感应电动势
ε(t) = B * l * v * sin(ω * t)
```

### 2. 电动机原理

#### 安培力
载流导体在磁场中受力：
```
F = I × l × B
```

#### 转矩计算
```
τ = F × r = B × I × l × r
```

#### 代码示例
```julia
# 电动机参数
B = 0.5     # 磁感应强度
I = 10.0    # 电流
l = 0.3     # 导体长度
r = 0.05    # 转子半径

# 最大转矩
τ_max = B * I * l * r
```

### 3. 变压器原理

#### 变压关系
```
V₂/V₁ = N₂/N₁
I₁/I₂ = N₂/N₁
```

#### 功率关系（理想变压器）
```
P₁ = P₂
V₁ × I₁ = V₂ × I₂
```

#### 代码示例
```julia
# 创建变压器
primary = InductionCoil(2000, 0.01, 0.2, μ₀, 2.0)
secondary = InductionCoil(400, 0.01, 0.2, μ₀, 0.4)
transformer = Transformer(primary, secondary, 0.95, μ₀)

# 计算变压比
ratio = secondary.turns / primary.turns
```

### 4. 感应加热

#### 功率密度
```
P = σ × E²
```

#### 温度上升
```
ΔT = (P × t) / (ρ × c_p × V)
```

其中：
- ρ：密度 [kg/m³]
- c_p：比热容 [J/(kg·K)]

---

## 代码使用指南

### 1. 模块导入
```julia
include("src/ElectromagneticInduction.jl")
using .ElectromagneticInduction
```

### 2. 基础计算

#### 磁通量计算
```julia
# 计算磁通量
Φ = calculate_magnetic_flux(B, A, θ)

# 示例
Φ = calculate_magnetic_flux(1.0, 0.01, 0.0)  # 0.01 Wb
```

#### 感应电动势
```julia
# 根据法拉第定律计算
ε = calculate_induced_emf(N, dΦ_dt)

# 示例
ε = calculate_induced_emf(100, 0.01)  # -1.0 V
```

#### 自感计算
```julia
# 螺线管自感
L = calculate_self_inductance(N, A, l, μ)

# 示例
L = calculate_self_inductance(1000, 0.01, 0.1, 4π*1e-7)
```

### 3. 创建器件

#### 感应线圈
```julia
coil = InductionCoil(
    100,        # 匝数
    0.01,       # 截面积 [m²]
    0.2,        # 长度 [m]
    4π*1e-7,    # 磁导率 [H/m]
    1.0         # 电阻 [Ω]
)
```

#### 变压器
```julia
primary = InductionCoil(2000, 0.01, 0.2, μ₀, 2.0)
secondary = InductionCoil(400, 0.01, 0.2, μ₀, 0.4)
transformer = Transformer(primary, secondary, 0.95, μ₀)
```

### 4. 仿真分析

#### 完整仿真
```julia
results = simulate_electromagnetic_induction()
```

#### 绘制图表
```julia
plots = plot_induction_analysis(results)
display(plots)
```

### 5. 专项分析

#### RL电路暂态
```julia
L, R, V = 0.01, 10.0, 12.0
t_range = 0:0.0001:0.01
i_t, v_L, τ = rl_circuit_transient(L, R, V, collect(t_range))
```

#### 变压器分析
```julia
V_sec, ratio, I_ratio = transformer_analysis(transformer, 220.0, 50.0)
```

---

## 实验验证

### 1. 验证法拉第定律

#### 实验设计
1. 使用可变磁场的螺线管
2. 测量感应电动势
3. 验证 ε ∝ dΦ/dt 关系

#### 理论预期
```julia
# 正弦磁场
B(t) = B₀ × sin(ωt)
dΦ_dt = B₀ × ω × A × cos(ωt)
ε_theory = -N × B₀ × ω × A × cos(ωt)
```

### 2. 验证楞次定律

#### 实验现象
- 磁铁接近线圈：感应电流阻碍接近
- 磁铁远离线圈：感应电流阻碍远离

#### 代码验证
```julia
# 磁场增强时
dΦ_dt_positive = 0.01
ε_opposing = calculate_induced_emf(100, dΦ_dt_positive)  # 负值

# 磁场减弱时  
dΦ_dt_negative = -0.01
ε_opposing = calculate_induced_emf(100, dΦ_dt_negative)  # 正值
```

### 3. 自感测量

#### LC振荡电路
```julia
# 振荡频率
f₀ = 1 / (2π × √(L × C))

# 由频率反推自感
L_measured = 1 / ((2π × f₀)² × C)
```

### 4. 互感测量

#### 双线圈实验
```julia
# 初级电流变化引起次级电压
V₂ = M × dI₁/dt

# 测量互感
M_measured = V₂ / (dI₁_dt)
```

---

## 数值方法

### 1. 数值微分
对于离散数据计算 dΦ/dt：
```julia
dΦ_dt = diff(Φ) ./ diff(t)
```

### 2. 数值积分
计算累积磁通量：
```julia
Φ_total = trapz(t, B .* A)
```

### 3. 微分方程求解
RL电路的数值解：
```julia
using DifferentialEquations

function rl_circuit!(du, u, p, t)
    L, R, V = p
    du[1] = (V - R * u[1]) / L
end

tspan = (0.0, 0.01)
u0 = [0.0]
p = [0.01, 10.0, 12.0]

prob = ODEProblem(rl_circuit!, u0, tspan, p)
sol = solve(prob)
```

---

## 工程应用

### 1. 电力系统

#### 发电机建模
```julia
# 同步发电机基本方程
ε = K × Φ × ω × sin(θ)
```

#### 变压器建模
```julia
# T型等效电路
Z₁ = R₁ + jX₁
Z₂ = R₂ + jX₂  
Z_m = jX_m
```

### 2. 电机控制

#### 感应电机
```julia
# 转差率
s = (n_s - n_r) / n_s

# 转矩
T = k × s × V² / (R₂/s)
```

### 3. 无线电力传输

#### 磁耦合共振
```julia
# 耦合系数
k = M / √(L₁ × L₂)

# 传输效率
η = k² × Q₁ × Q₂ / ((1 + k² × Q₁ × Q₂)²)
```

---

## 常见问题与解答

### Q1: 为什么感应电动势有负号？
**A:** 负号体现楞次定律，表示感应电动势的方向总是阻碍磁通量的变化。

### Q2: 自感和互感的区别？
**A:** 
- 自感：线圈电流变化在自身产生的磁通量变化
- 互感：一个线圈电流变化在另一个线圈产生的磁通量变化

### Q3: 如何提高变压器效率？
**A:**
- 使用低损耗铁芯材料
- 减小线圈电阻
- 优化磁路设计
- 提高耦合系数

### Q4: 涡流损耗如何计算？
**A:** P = σ × E² × V，其中E由变化磁场感应产生

---

## 参考文献

1. Griffiths, D.J. "Introduction to Electrodynamics" 4th Edition
2. Jackson, J.D. "Classical Electrodynamics" 3rd Edition  
3. Sadiku, M.N.O. "Elements of Electromagnetics" 7th Edition
4. Hayt, W.H. "Engineering Electromagnetics" 8th Edition

---

---

## 麦克斯韦方程组完整推导

### 基本物理常数的定义和意义

#### 1. 真空磁导率 (μ₀)
**定义：** μ₀ = 4π × 10⁻⁷ H/m (亨利/米)

**物理意义：**
- 描述真空中磁场与磁感应强度的关系
- 在真空中：B = μ₀H
- 决定了真空中磁场的"渗透性"
- 与电流产生磁场的强度直接相关

**历史背景：**
- 1860年代通过安培定律的实验确定
- 安培力定律：F = μ₀I₁I₂l/(2πr) 中的比例常数

#### 2. 真空介电常数 (ε₀)  
**定义：** ε₀ = 8.854 × 10⁻¹² F/m (法拉/米)

**物理意义：**
- 描述真空中电场与电位移的关系
- 在真空中：D = ε₀E
- 决定了真空中电场的"穿透性"
- 与点电荷产生电场的强度直接相关

**与光速的关系：**
- c = 1/√(μ₀ε₀) = 299,792,458 m/s
- 这个关系是麦克斯韦的重要发现

#### 3. 光速 (c)
**定义：** c = 299,792,458 m/s

**物理意义：**
- 电磁波在真空中的传播速度
- 是宇宙中信息传递的最大速度
- 连接了电学和磁学的基本常数

### 麦克斯韦方程组的历史发展和推导

#### 第一步：库仑定律到高斯定律

**库仑定律 (1785年):**
```
F = (1/4πε₀) × (q₁q₂/r²) × r_hat
```

**电场定义:**
```
E = F/q = (1/4πε₀) × (Q/r²) × r_hat
```

**高斯定律推导:**
对于点电荷Q，通过任意闭合面的电通量：
```
∮ E · dA = (1/4πε₀) × Q × ∮ (1/r²) × r_hat · dA
```

由于 ∮ (1/r²) × r_hat · dA = 4π（立体角积分），得到：
```
∮ E · dA = Q/ε₀
```

**麦克斯韦方程组第一式：高斯定律**
```
∇ · E = ρ/ε₀
```

#### 第二步：安培定律到安培-麦克斯韦定律

**比奥-萨伐尔定律 (1820年):**
```
dB = (μ₀/4π) × (I dl × r_hat)/r²
```

**安培环路定律:**
```
∮ B · dl = μ₀I
```

**麦克斯韦的修正:**
麦克斯韦发现安培定律在非稳恒电流情况下不满足电荷守恒，需要添加位移电流：

电荷守恒定律：
```
∂ρ/∂t + ∇ · J = 0
```

结合高斯定律：∇ · E = ρ/ε₀，得到：
```
∇ · J + ε₀ ∂(∇ · E)/∂t = 0
∇ · (J + ε₀ ∂E/∂t) = 0
```

定义位移电流密度：J_D = ε₀ ∂E/∂t

**麦克斯韦方程组第二式：安培-麦克斯韦定律**
```
∇ × B = μ₀J + μ₀ε₀ ∂E/∂t
```

#### 第三步：法拉第电磁感应定律

**法拉第实验发现 (1831年):**
变化的磁场产生电场

**数学表达:**
```
ε = -dΦ/dt = -∮ E · dl
```

其中磁通量：Φ = ∫∫ B · dA

**麦克斯韦方程组第三式：法拉第定律**
```
∇ × E = -∂B/∂t
```

#### 第四步：磁荷不存在定律

**实验事实:**
- 从未发现单独的磁荷（磁单极子）
- 所有磁场线都是闭合的

**麦克斯韦方程组第四式：磁高斯定律**
```
∇ · B = 0
```

### 完整的麦克斯韦方程组

#### 微分形式
```
1. ∇ · E = ρ/ε₀           (高斯定律)
2. ∇ × B = μ₀J + μ₀ε₀∂E/∂t  (安培-麦克斯韦定律)
3. ∇ × E = -∂B/∂t        (法拉第定律)
4. ∇ · B = 0              (磁高斯定律)
```

#### 积分形式
```
1. ∮ E · dA = Q/ε₀
2. ∮ B · dl = μ₀I + μ₀ε₀ ∫∫ ∂E/∂t · dA
3. ∮ E · dl = -∫∫ ∂B/∂t · dA
4. ∮ B · dA = 0
```

### 电磁波的推导

从麦克斯韦方程组可以推导出电磁波方程：

**在真空中 (ρ = 0, J = 0):**

对第三个方程取旋度：
```
∇ × (∇ × E) = ∇ × (-∂B/∂t) = -∂(∇ × B)/∂t
```

使用第二个方程：
```
∇ × (∇ × E) = -μ₀ε₀ ∂²E/∂t²
```

使用矢量恒等式：∇ × (∇ × E) = ∇(∇ · E) - ∇²E

在真空中 ∇ · E = 0，所以：
```
∇²E = μ₀ε₀ ∂²E/∂t²
```

这是标准的波动方程，波速为：
```
v = 1/√(μ₀ε₀) = c
```

同理可得磁场的波动方程：
```
∇²B = μ₀ε₀ ∂²B/∂t²
```

### 麦克斯韦方程组的物理意义

#### 1. 电场和磁场的统一
- 变化的电场产生磁场
- 变化的磁场产生电场
- 电场和磁场是同一实体的两个方面

#### 2. 电磁波的预言
- 麦克斯韦从理论上预言了电磁波的存在
- 计算出电磁波速度等于光速
- 统一了光学和电磁学

#### 3. 能量和动量
电磁场的能量密度：
```
u = (1/2)(ε₀E² + B²/μ₀)
```

电磁场的动量密度：
```
g = ε₀E × B
```

坡印廷矢量（能流密度）：
```
S = (1/μ₀)E × B
```

### 在不同介质中的麦克斯韦方程组

#### 介质的电磁性质
- **介电常数：** ε = ε_r × ε₀
- **磁导率：** μ = μ_r × μ₀  
- **电导率：** σ

#### 修正的麦克斯韦方程组
```
1. ∇ · D = ρ_free
2. ∇ × H = J_free + ∂D/∂t
3. ∇ × E = -∂B/∂t
4. ∇ · B = 0
```

其中：
- D = εE (电位移)
- H = B/μ (磁场强度)

---

## 附录

### A. 物理常数
```julia
μ₀ = 4π × 1e-7     # 真空磁导率 [H/m]
ε₀ = 8.854e-12     # 真空介电常数 [F/m]  
c = 299792458      # 光速 [m/s]
```

### B. 单位换算
```
1 Wb = 1 T·m² = 1 V·s
1 H = 1 Wb/A = 1 V·s/A
1 T = 1 Wb/m² = 1 kg/(A·s²)
```

### C. 代码示例完整列表
详见 `electromagnetic_induction_examples.jl` 文件。
